"use strict";(self.webpackChunkyaad=self.webpackChunkyaad||[]).push([[716],{716:function(e,t,a){a.r(t);var n=a(4165),r=a(8683),i=a(5861),l=a(2791),s=a(8329),o=a(8188),c=a(1273),u=a(6931),d=(a(4363),a(6505),a(4880)),p=a(4684),v=a(184);t.default=function(e){var t=(0,l.useContext)(s.s),a=t.state,x=t.setState,m=(0,l.useContext)(o.G),f=(m.msgStacks,m.setMsgStacks),g=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var a,i,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.QP)(),a=0,0!==t.target.files.length){e.next=5;break}return f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{messages:["No file selected!"]})})),e.abrupt("return",(0,p.Zk)());case 5:i=t.target.files[0],(l=new FileReader).addEventListener("load",(function(){if(1===++a)return x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{data:(0,r.Z)((0,r.Z)({},e.data),{},{path:l.result})})})),(0,p.Zk)()})),l.readAsDataURL(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(e){var t,l,s,o,m,b,h,y,k,Z,N,S,j,T=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i,l,s,o,u,d,v,m,g,b,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.classList.add("inactive"),(0,p.QP)(),t.preventDefault(),null!==(i=a.data)&&void 0!==i&&i.name&&""!==(null===(l=a.data)||void 0===l?void 0:l.name)&&null!==(null===(s=a.data)||void 0===s?void 0:s.name)&&void 0!==(null===(o=a.data)||void 0===o?void 0:o.name)&&null!==(u=a.data)&&void 0!==u&&u.collection&&null!==(null===(d=a.data)||void 0===d?void 0:d.collection)&&""!==(null===(v=a.data)||void 0===v?void 0:v.collection)&&void 0!==(null===(m=a.data)||void 0===m?void 0:m.collection)){e.next=6;break}return(0,p.Zk)(),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"singleNFTName",value:"",msg:"Please enter a name & collection"}],substate:a.currsubState})})));case 6:return(g=new FormData).append("data",JSON.stringify(a.data)),e.next=10,fetch(a.baseServerUri+"createone",{method:"POST",body:g}).then((function(e){return e.json()})).then((function(e){return e}));case 10:if(!(b=e.sent).error){e.next=17;break}if("duplicate"!==b.error.message){e.next=15;break}return(0,p.Zk)(),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"createSingleBoxPreview",value:"",msg:"This NFT already exists, please select an original design."}],substate:a.currsubState})})));case 15:(0,p.Zk)(),x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{currsubState:"SingleNFTDetailsForm"})}));case 17:if(!b.results){e.next=30;break}return e.next=20,(0,c.VV)(b.results.IpfsHash).finally((function(e){return e}));case 20:if("ACTION_REJECTED"!==(h=e.sent).code){e.next=25;break}return(0,p.Zk)(),t.target.classList.remove("inactive"),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"createSingleBoxPreview",value:"",msg:"Transaction rejected!"}],substate:a.currsubState})})));case 25:if(console.log("minted----- ".concat(JSON.stringify(h))),!h.hash){e.next=28;break}return e.abrupt("return",x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{currsubState:"NFTminted"})})));case 28:t.target.classList.remove("inactive"),(0,p.Zk)();case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target,i=r.value,e.t0=t.target.getAttribute("name"),e.next="name"===e.t0?5:"collection"===e.t0?8:"price"===e.t0?11:"royalties"===e.t0?14:"desc"===e.t0?17:20;break;case 5:return a.data.name=(0,u.SA)(i,0,50)&&(0,u.sg)(i,[".","_"," "])?i:a.data.name,r.value=a.data.name,e.abrupt("break",21);case 8:return a.data.collection=(0,u.SA)(i,0,50)&&(0,u.sg)(i,[".","_"," "])?i:a.data.collection,r.value=a.data.collection,e.abrupt("break",21);case 11:return a.data.price=(0,u.kE)(i)?i:a.data.price,r.value=a.data.price,e.abrupt("break",21);case 14:return a.data.royalties=(0,u.kE)(i)?i:a.data.royalties,r.value=a.data.royalties,e.abrupt("break",21);case 17:return a.data.description=(0,u.SA)(i,0,200)?i:a.data.description,r.value=a.data.description,e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:return e.abrupt("return");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{className:"popupBoxEleDetailsLabel",id:"createSingleBoxPreview",htmlFor:"createSingleAssetUpld",onClick:function(){document.querySelector("#single_asset").click()},children:(0,v.jsxs)("div",{className:"popupBoxEleDetails",style:{padding:null!==(t=a.data)&&void 0!==t&&t.path?"0px":"30px",boxSizing:"border-box"},children:[" ",(0,v.jsx)("img",{src:null!==(l=a.data)&&void 0!==l&&l.path?null===(s=a.data)||void 0===s?void 0:s.path:"uploadimg.svg",style:{objectFit:"cover",height:"100%",width:"100%"},alt:""})," "]})}),(0,v.jsx)("input",{type:"file",id:"single_asset",name:"single_asset",accept:"image/*,video/*,audio/*,webgl/*,.glb,.gltf",style:{opacity:100,zIndex:1},onChange:g,hidden:!0}),(0,v.jsx)("input",{className:"popupBoxTextEle",placeholder:null!==(o=a.data)&&void 0!==o&&o.name?null===(m=a.data)||void 0===m?void 0:m.name:"Name",type:"text",name:"name",id:"singleNFTName",onChange:w,style:{opacity:100,zIndex:1}}),(0,v.jsx)(d.Xj,{data:{typeId:"singleNFTDesc",typeClass:"popupBoxTextAreaEle",name:"desc",placeholder:null!==(b=a.data)&&void 0!==b&&b.description?null===(h=a.data)||void 0===h?void 0:h.description:"Description",type:"textarea",onChange:w}}),(0,v.jsx)("input",{className:"popupBoxTextEle",placeholder:null!==(y=a.data)&&void 0!==y&&y.collection?null===(k=a.data)||void 0===k?void 0:k.collection:"Collection",type:"text",name:"collection",id:"singleNFTColl",onChange:w,style:{opacity:100,zIndex:1}}),(0,v.jsxs)("div",{style:{flexDirection:"row",maxWidth:"600px",width:"100%",margin:"0px auto"},children:[(0,v.jsx)("input",{className:"popupBoxSmallTextAreaLeftEle",placeholder:null!==(Z=a.data)&&void 0!==Z&&Z.price?null===(N=a.data)||void 0===N?void 0:N.price:"Price",type:"number",name:"price",id:"singleNFTPrice",onChange:w,style:{opacity:100,zIndex:1}}),(0,v.jsx)("input",{className:"popupBoxSmallTextAreaRightEle",placeholder:null!==(S=a.data)&&void 0!==S&&S.royalties?null===(j=a.data)||void 0===j?void 0:j.royalties:"Royalties: max 50%",type:"number",name:"royalties",id:"singleNFTRoyalty",onChange:w,style:{opacity:100,zIndex:1}})]}),(0,v.jsx)(d.BZ,{data:{class:"popupBoxEle",id:"createBox",value:"create",func:T}})]})}return(0,v.jsx)("div",{className:"popupdark",children:(0,v.jsxs)("div",{className:"popupBox",children:[(0,v.jsx)("button",{className:"closeBoxWhite",onClick:function(){return x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{state:"home",data:{coll_name:null,coll_symbol:null,layers:[]},currsubState:null})}))},children:"X"}),(0,v.jsx)(b,{})]})})}}}]);
//# sourceMappingURL=716.91807ff0.chunk.js.map