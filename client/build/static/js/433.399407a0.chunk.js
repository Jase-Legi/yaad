"use strict";(self.webpackChunkyaad=self.webpackChunkyaad||[]).push([[433],{7139:(e,t,a)=>{a.d(t,{i:()=>n,x:()=>r});const n=(e,t,a,n)=>{let r=e?e.target:null;t.classList.contains(a)?(t.classList.remove(a),t.classList.add(n),r&&(r.innerText="expand")):(t.classList.add(a),t.classList.remove(n),r&&(r.innerText="less"))},r=(e,t)=>{e.parentNode.replaceChild(e,t),e.parentNode.insertBefore(t,e)}},3433:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var n=a(2791),r=a(8329),s=a(7584),l=a(5239),o=a(1065),i=a(1449);var d=a(6931);const c=async(e,t,a,n)=>{if(n=null===n||void 0===n?[]:n,(a=null===a||void 0===a?0:a)<e.length){const r=e[a];let s=0;for(;s<r.length;){let l=r[s];n.push(l),c(e,t,a+1,n),n.pop(),s++}}else t.push(n.slice())};var m=a(7139),p=(a(4363),a(6505)),u=a(4880),y=a(4684),x=a(8188),g=(a(9232),a(184));const h=(0,n.lazy)((()=>a.e(912).then(a.bind(a,3440))));const b=function(e){var t,a,b;window.location.host;const{msgStacks:v,setMsgStacks:f}=(0,n.useContext)(x.G),{state:_,setState:N}=(0,n.useContext)(r.s);_.data.activeContract=0;const k=e=>{var t;let a;switch((0,y.QP)(),_.currsubState){case"RandomGenerator":localStorage.clear(),a={state:"home",data:""};break;case"RandomGenerator-LayerOptions-Write-Contract":_.formVals=null,a={currsubState:"RandomGenerator-RandomGenerated"};break;default:null===(t=_.data)||void 0===t||delete t.tempFiles,a={currsubState:"RandomGenerator"}}return N((e=>({...e,...a})))},j=async e=>{(0,y.QP)(e);const t=await(0,o.SY)();if(!_.data.coll_name||""===_.data.coll_name.trim())return f((e=>({...e,messages:["Enter a project/NFT name!"],substate:_.currsubState})));if(!_.data.coll_symbol||""===_.data.coll_symbol.trim())return f((e=>({...e,messages:["Enter a symbol!"],substate:_.currsubState})));try{let a={language:"Solidity",sources:{},settings:{outputSelection:{"*":{"*":["*"]}}}};const n=_.data.contracts[0].contract.split("\n"),r=null===n||void 0===n?void 0:n.length;let s;for(let e=0;e<r;e++)n[e].includes("contract ")&&""===n[e].split("contract ")[0].trim()&&(console.log(`contract name: ${n[e].split("contract ")[1].trim().split(" ")[0]}`),s=n[e].split("contract ")[1].trim().split(" ")[0]);_.data.contracts.forEach(((e,t)=>{a.sources[`${e.name}.sol`]={content:e.contract}})),console.log(`chain data: ${JSON.stringify(_.chainData)}`);const i=await(0,o.SY)();let d=new FormData;if(i.code)return(0,y.Zk)(),!1;d.append("contractJSON",JSON.stringify(a)),d.append("contractName",s);const c=await fetch(_.baseServerUri+"compileContract",{method:"POST",body:d}).then((e=>e.json())).then((e=>e)),m=c.abi,p=c.bytecode,u=new l.l(m,p,o.Mu),x=await u.deploy(_.data.coll_name,_.data.coll_symbol).then((e=>e)).catch((e=>e));if(console.log(`address: ${t}, nft token: ${JSON.stringify(x.reason)}`),d=null,x.code)return void(0,y.Zk)(e);if(x.address)return(0,y.Zk)(e),N((e=>({...e,currsubState:"RandomGenerator-ContractDeployed",data:{...e.data,contract_address:x.address,contract_link:`https://${o.uN.name}.etherscan.io/address/${x.address}`}})))}catch(a){return console.log(`error: ${a}`),a}},C=async(e,t)=>{(0,y.QP)(e);let a,n=!1;if("file"===e.target.getAttribute("type")&&("multi_asset"===e.target.getAttribute("name")||"bg_asset"===e.target.getAttribute("name"))){let t;return e.target.files.length<1&&null!==_.data.tempFiles?(0,y.Zk)(e):(t=e.target.files,t.length<1?(e.target.classList.remove("inactive"),(0,y.Zk)(e)):void await(async(e,t,a,n,r)=>{const s=document.getElementById(a);s.innerHTML="";const l=e.length;if(console.log(`files length: ${l}`),0===l)return r(["Upload a file.",n]);let o=[],d=0;for(let c=0;c<l;c++){let a=e[c];(0,i.m)(a,(a=>{let[i,m]=a;if(m){if(m.match(/^(jpg|png|gif|webp)/)){const e=document.createElement("img");e.addEventListener("load",(()=>{if(e.width<=2e3&&e.height<=2e3){d++,o.push({path:i,ext:m});const a=document.createElement("div");a.appendChild(e),a.classList.add(t||"LayerUpldContentBox"),s.appendChild(a)}else e.remove(),n.push(c);if(l===d+n.length)return r([null,n,o.length>0?o:null])})),e.src=`data:image/${m};base64,`+i}else if(n.push(c),e.length===n.length)return r(["Unsupported file types! JPG, JPEG, PNG, WEBP, GIF, JPE only.",n])}else if(n.push(c),e.length===n.length)return r(["Unknown file type, images only! Supported types: JPG, JPEG, PNG only.",n])}))}})(t,"LayerUpldContentBox","layerContentBox",[],(a=>{let[n,r,s]=a;return r,null!==n||r.length===t.length?((0,y.Zk)(e),f((e=>({...e,substate:_.currsubState,messages:null!==n?[n]:["Images too large Max height: 2000px, max width: 2000px."]})))):(document.getElementById("bg_upld")&&(document.getElementById("bg_upld").textContent=t.length>0?"NEXT":"No Background"),_.data.tempFiles=s,(0,y.Zk)(e))})))}if("bg_upld"!==e.target.getAttribute("id")){var r;a=null===_.temp_index?_.formVals:null===(r=_.data.layers[_.temp_index])||void 0===r?void 0:r.name;let n=[];var s;if(console.log(`indx: ${t}`),null===t)null===(s=_.data.layers)||void 0===s||s.forEach(((e,t,r)=>{e.name===a&&n.push("This layer name is already in use, enter another!")}));if(a||n.push("Enter a layer name!"),_.data.tempFiles||n.push("Click the '+' to upload files!"),(null===n||void 0===n?void 0:n.length)>0)return(0,y.Zk)(e),f((e=>({...e,substate:_.currsubState,messages:n})))}var l;if(n="bg_upld"===e.target.getAttribute("id")&&!0,!_.data.tempFiles&&"bg_upld"===e.target.getAttribute("id"))return _.data.background=_.data.background&&0!==(null===(l=_.data.background)||void 0===l?void 0:l.length)?_.data.background:[],k();let o=_.data.tempFiles.length;null!==t||n||(_.data.layers.push({name:a,traits:[]}),t=_.data.layers.length-1);for(let i=0;i<o;i++){const e=_.data.tempFiles[i].path,a=_.data.tempFiles[i].ext;n?Array.isArray(_.data.background)?_.data.background.push({trait_name:i,path:e,ext:a}):_.data.background=[{trait_name:i,path:e,ext:a}]:await _.data.layers[t].traits.push({trait_name:i,path:e,ext:a})}return k()},L=async e=>"RandomGenerator-LayerOptions-Edit-Layer"===_.currsubState?N((e=>({...e,currsubState:"RandomGenerator-LayerOptions-Del-Layer",previous:e.currsubState}))):((0,y.QP)(),null!==_.temp_index?(_.data.layers.splice(_.temp_index,1),(0,y.Zk)(),k()):k()),B=e=>{(0,y.QP)(e);const t=_.formVals;if("RandomGenerator-LayerOptions-Edit-Layer"===_.currsubState)return N((e=>({...e,currsubState:"RandomGenerator-LayerOptions-Rename_Layer"})));{let a=!1;return(0,d.sg)(t,["_"," ","."])&&(0,d.SA)(t,1,50)?(_.data.layers.forEach(((e,n,r)=>{e.name===t.trim()&&(a=!0)})),!0===a?((0,y.Zk)(e),f((e=>({...e,messages:["Layer name is already in use, Enter another name."]})))):(_.data.layers[_.temp_index].name=_.formVals,k())):void(0,y.Zk)(e)}},S=async(e,t)=>{(0,y.QP)(e);const a=(e=>{let t=1;return e.forEach(((e,a,n)=>{t*=e.priority?e.traits.length:e.traits.length+1})),t})(_.data.layers);if(a<t)return(0,y.Zk)(e),f((e=>({...e,messages:[`Add more images to existing layers or create more layers. Your current layers only generate ${a} possible unique images.`],substate:_.currentSubState})));if(null===_.chainData){if((await(0,o.SY)()).code)return f((e=>({...e,messages:["web3 wallet connection error occured"],substate:_.currentSubState})))}let n=await(0,o.Hy)(_.chainData);if(n.code)return f((e=>({...e,messages:["web3 wallet connection error occured"],substate:_.currentSubState})));_.data.account=n;const r=async(e,t)=>{let a=0;const r=await(async e=>{let t=[];for(let a=0;a<e.length;a++){const r={pinataMetadata:{name:`background ${a}.`,keyvalues:{description:"nft trait element from collection, generated by Yaad labs."}},pinataOptions:{cidVersion:0}};let l=n+"__"+Date.now()+"."+e[a].ext,o=new FormData;const i=await fetch((0,s.Ey)(e[a].path)),d=await i.blob();o.append("img",d,l),o.append("the_options",JSON.stringify(r)),console.log("pinning layers!");const c=await fetch(`${_.baseServerUri}pinnit`,{method:"POST",body:o}).then((e=>e.json())).then((e=>e));e[a].ipfsHash=c.IpfsHash,t.push({trait_name:e[a].trait_name,trait_index:a,ipfsHash:c.IpfsHash})}return t})(t);for(;a<e.length;){let t=r[Math.floor(Math.random()*r.length)];e[a].splice(0,0,{trait_type:"background",trait_name:t.trait_name,value:t.ipfsHash}),a++}};let l=await(async(e,t,a)=>{let l=[];const o=await(async(e,t)=>{let a=[];_.data.newlayers=[],t.reverse();for(let r=0;r<t.length;r++){a.push({name:t[r].name,priority:t[r].priority,traits:[]});for(let e=0;e<t[r].traits.length;e++){const l={pinataMetadata:{name:`${t[r].name}: ${t[r].traits[e].trait_name}`,keyvalues:{description:"nft trait element from collection, generated by Yaad labs.",name:`${t[r].name}: ${t[r].traits[e].trait_name}`}},pinataOptions:{cidVersion:0}};let o=n+"__"+Date.now()+"."+t[r].traits[e].ext,i=new FormData;const d=await(0,s.Jr)((0,s.Ey)(t[r].traits[e].path));i.append("img",d,o),i.append("the_options",JSON.stringify(l));const c=await fetch(`${_.baseServerUri}pinnit`,{method:"POST",body:i}).then((e=>e.json())).then((e=>e));t[r].traits[e].ipfsHash=c.IpfsHash,_.data.newlayers.push({trait_name:t[r].traits[e].trait_name,layer_index:r,trait_index:e,ipfsHash:c.IpfsHash}),a[r].traits.push({trait_name:t[r].traits[e].trait_name,layer_index:r,trait_index:e,ipfsHash:c.IpfsHash})}}return a})(0,t),i=await(async e=>{let t,a=0,n=[],r=[];for(;a<e.length;)e[a].priority&&r.push(e[a].name),t=e[a].traits.map(((t,n)=>({trait_type:e[a].name,trait_name:e[a].traits[n].trait_name,value:t.ipfsHash}))),n.push(t),a++;return t=null,[n,r]})(o),d=await(async(e,t)=>{let a=0;for(;a<e.length;)t.includes(e[a][0].trait_type)||e[a].push({trait_type:e[a][0].trait_type,value:"N/A"}),a++;return e})(i[0],i[1]);return await c(d,l),await(e=>{for(var t,a,n=e.length;n>0;)a=Math.floor(Math.random()*n),t=e[--n],e[n]=e[a],e[a]=t;return e})(l),(null===a||void 0===a?void 0:a.length)>0&&await r(l,a),l})(_.data.coll_name,_.data.layers,_.data.background);const i=l.length,d=await(async e=>{let t=null;t="string"===typeof e?e:JSON.stringify(e);return(new TextEncoder).encode(t).length})(l).then((e=>e));console.log(`size of combo: ${d} bytes`);let m,u={pinataMetadata:{name:_.data.coll_name,keyvalues:{}},pinataOptions:{cidVersion:0}};d<2e7?(m=await(async(e,t,a)=>{let n=new FormData;n.append("path",JSON.stringify(e)),n.append("the_options",JSON.stringify(t));const r=await fetch(a,{method:"POST",body:n}).then((e=>e.json())).then((e=>e));return n=null,r})(l,u,`${_.baseServerUri}pinnitcombo`),console.log("pinning combo!")):m={IpfsHash:null};await(async(e,t)=>{const a=t||e.length;let r=[];for(let n=0;n<a;n++)r.push(e[n]);return l=null,(async(e,t,a)=>{let r=[];const l=e.length;for(let d=0;d<l;d++){const c=e[d].filter((e=>"N/A"!==e.value)),u=c.length,y=document.createElement("canvas");y.width=t,y.height=a;const x=y.getContext("2d");let g=1;for(let e=0;e<u;e++){let h=c[e];try{let o=0===e&&_.data.background.length>0?_.data.background.length:_.data.newlayers.length;e:for(let b=0;b<o;b++){const o=0===e&&_.data.background.length>0?_.data.background[b]:_.data.newlayers[b];if(o.ipfsHash===h.value){console.log(`drawing images: ${e}`);let h=new Image,b=0===e&&_.data.background.length>0?o.path:_.data.layers[o.layer_index].traits[o.trait_index].path;h.src=(0,s.Ey)(b),h.addEventListener("load",(async()=>{if(x.drawImage(h,0,0,t,a),g===u){const e=await(0,s.mS)(null,y.toDataURL("image/png"));r.push({name:`sample turd #${d}`,attributes:c,path:e});const t=async(e,t,a,r,s)=>{let l=new FormData;l.append("data",JSON.stringify(_.data)),l.append("collname",_.data.coll_name),l.append("collSym",_.data.coll_symbol),l.append("account",n),l.append("ipfs_uri",s),l=null,fetch(p).then((e=>e.text())).then((async e=>N((t=>({...t,data:{...t.data,coll_name:t.data.coll_name,coll_symbol:t.data.coll_symbol,samples:r,possibleCombos:i,contracts:[{name:"main",contract:e}]},currsubState:"RandomGenerator-RandomGenerated"})))))};d===l-1&&await t(_.data,_.data.coll_name,n,r,m)}g++}));break e}}}catch(o){console.log(`drawing error occurred: ${JSON.stringify(o)}`)}}}})(r,1e3,1e3)})(l,t)},E=e=>{const t=e.target,a=t.getAttribute("id"),n=t.value.trim();if(P)t.value=_.data.coll_name;else{if(""===n)return!1;switch(a){case"contractName":if(!(0,d.sg)(n,["_"," "])||!(0,d.SA)(n,1,30))return void(t.value=_.data.coll_name);_.data.coll_name=n,t.setAttribute("placeholder",n);break;case"contractSymbol":if(!(0,d.sg)(n,["_"," "])||!(0,d.SA)(n,1,4))return void(t.value=_.data.coll_symbol);_.data.coll_symbol=n,t.setAttribute("placeholder",n);break;default:if(!(0,d.sg)(n,["_"," "])||!(0,d.SA)(n,1,50))return void(t.value=_.formVals);_.formVals=n,t.setAttribute("placeholder",n)}}};function w(){function e(e){let t,{layerData:a}=e,r=[],s=document.getElementById("LayerGenBoxx"),l=null;(0,n.useEffect)((()=>{[].forEach.call(document.getElementsByClassName("layerBox"),(e=>{r.push(e.getBoundingClientRect().top+document.getElementById("popup").scrollTop)}))}),[s,r]);const o=(e,a)=>{if("layerBox"===e.target.getAttribute("class")&&(t=!1,"mousedown"===e.type||"touchstart"===e.type)){if(!0===t)return!1;let n=e.target,s=n.clientWidth,o=document.getElementById("popup"),i=a,d=document.getElementsByClassName("layerBox"),c=n.clientHeight/2;n.classList.add("sortable-handler"),l=i,n.style.width=s+"px",n.style.top="touchstart"===e.type?e.touches[0].clientY+o.scrollTop-c+"px":e.clientY+o.scrollTop-c+"px",window.onmousemove=e=>{!1===t&&(n.style.top=e.clientY+o.scrollTop-c+"px",r.forEach(((t,a)=>{i>a&&e.clientY+o.scrollTop-35<t&&e.clientY+o.scrollTop-35>t-70&&((0,m.x)(d[a].parentNode,n.parentNode),l=a,i=a),i<a&&e.clientY+o.scrollTop+35>t+70&&e.clientY+o.scrollTop+35<t+140&&((0,m.x)(n.parentNode,d[a].parentNode),l=a,i=a)})))},window.ontouchmove=e=>{!1===t&&(n.style.top=e.touches[0].clientY+o.scrollTop-c+"px",r.forEach(((t,a)=>{i>a&&e.touches[0].clientY+o.scrollTop-35<t&&e.touches[0].clientY+o.scrollTop-35>t-70&&((0,m.x)(d[a].parentNode,n.parentNode),l=a,i=a),i<a&&e.touches[0].clientY+o.scrollTop+35>t+70&&e.touches[0].clientY+o.scrollTop+35<t+140&&((0,m.x)(n.parentNode,d[a].parentNode),l=a,i=a)})))}}},i=(e,a)=>{if("layerBox"===e.target.getAttribute("class")&&(0,y.QP)(),t=!0,"mouseup"===e.type||"touchend"===e.type||"touchcancel"===e.type){e.target.classList.remove("sortable-handler");let n=document.getElementsByClassName("layerBox"),r=0;for(;r<n.length;)n[r].classList.remove("betweenItem_two"),n[r].classList.remove("betweenItem"),r++;if(t=!0,"layerBox"===e.target.getAttribute("class")){if(a!==l){let e=_.data.layers.splice(a,1)[0];_.data.layers.splice(l,0,e)}return N((e=>({...e}))),(0,y.Zk)()}}},d=async(e,t,a)=>{e.preventDefault();const n=e.target;n.value&&(_.data.layers[t].traits[a].trait_name=n.value,n.setAttribute("placeholder",n.value))},c=(e,t,a)=>((0,y.QP)(),_.data.layers[t].traits.splice(a,1),0===_.data.layers[t].traits.length&&_.data.layers.splice(t,1),(0,y.Zk)(),N((e=>({...e})))),p=()=>{let e=[],t=_.data.layers[a.index].traits.length;for(let n=0;n<t;n++){let t=`data:image/${_.data.layers[a.index].traits[n].ext};base64,${_.data.layers[a.index].traits[n].path}`,r=_.data.layers[a.index].traits[n].trait_name;e.push((0,g.jsxs)("div",{className:"layer-image-container",children:[(0,g.jsx)("div",{className:"img-box",children:(0,g.jsx)("img",{src:t,alt:""})}),(0,g.jsxs)("div",{className:"traitName",children:[(0,g.jsx)("input",{className:"traitNameBox",id:"traitName_"+n,placeholder:r,type:"text",name:"name",onClick:e=>{e.target.value=r},onChange:e=>d(e,a.index,n)}),(0,g.jsx)("button",{className:"del-trait",onClick:e=>c(0,a.index,n),children:"X"})]})]},n))}return e};return(0,g.jsxs)("div",{className:"layer-box-content",onMouseDown:e=>o(e,a.index),onMouseUp:e=>i(e,a.index),onTouchStart:e=>o(e,a.index),onTouchCancel:e=>i(e,a.index),onTouchEnd:e=>i(e,a.index),children:[(0,g.jsxs)("div",{className:"layerBox",children:[(0,g.jsxs)("button",{className:"expander-box",onClick:e=>((e,t)=>{(0,y.QP)();let a=0;for(;a<document.getElementsByClassName("layer-images-box").length;)a!==t&&(document.getElementsByClassName("layer-images-box")[a].classList.contains("inactive")||document.getElementsByClassName("layer-images-box")[a].classList.add("inactive"),document.getElementsByClassName("triangle-icon")[a].classList.contains("rotateExpander")&&document.getElementsByClassName("triangle-icon")[a].classList.remove("rotateExpander")),a++;document.getElementsByClassName("layer-images-box")[t].classList.contains("inactive")?(document.getElementsByClassName("triangle-icon")[t].classList.add("rotateExpander"),document.getElementsByClassName("layer-images-box")[t].classList.remove("inactive"),document.getElementsByClassName("expander-box")[t].style.backgroundColor="rgb(129, 129, 129)"):(document.getElementsByClassName("triangle-icon")[t].classList.remove("rotateExpander"),document.getElementsByClassName("layer-images-box")[t].classList.add("inactive"),document.getElementsByClassName("expander-box")[t].style.backgroundColor="rgb(190, 190, 190)"),(0,y.Zk)()})(0,a.index),children:[(0,g.jsx)("div",{className:"prioBox",style:{width:"10px",float:"left",height:"10px",borderRadius:"5px",left:"-10px",top:"-10px",boxSizing:"border-box",backgroundColor:"rgb(140, 140, 140)"},onClick:()=>!1,children:(0,g.jsx)("div",{className:"prioBoxx",style:{width:"70%",height:"70%",margin:"15%",borderRadius:"35%",backgroundColor:_.data.layers[a.index].priority?"rgb(0, 172, 7)":"#F0000",boxSizing:"border-box",borderLeft:_.data.layers[a.index].priority?"1px solid rgb(159, 255, 162)":"1px solid rgb(190, 190, 190)",borderTop:_.data.layers[a.index].priority?"1px solid rgb(159, 255, 162)":"1px solid rgb(190, 190, 190)"},children:(0,g.jsx)("div",{className:"prioBoxxx",style:{width:"30%",height:"30%",top:"1px",right:"1px",borderRadius:"35%",backgroundColor:_.data.layers[a.index].priority?"rgb(159, 255, 162)":"rgb(190, 190, 190)",boxSizing:"border-box"}})})}),(0,g.jsx)("div",{className:"layer-name",children:(0,g.jsxs)("span",{children:[" ",_.data.layers[a.index].name," "]})}),(0,g.jsx)("div",{className:"triangle-icon-container",children:(0,g.jsx)("img",{className:"triangle-icon",src:"./inverted-triangle.svg",alt:""})})]}),(0,g.jsx)("div",{className:"edit-layer-box",children:(0,g.jsx)("div",{className:"edit-layer-icon-div",onClick:e=>N((e=>({...e,temp_index:a.index,currsubState:"RandomGenerator-LayerOptions-Edit-Layer"}))),children:(0,g.jsx)("img",{src:"./edit icon.svg",alt:"Edit layer"})})})]}),(0,g.jsxs)("div",{className:"layer-images-box inactive",children:[(0,g.jsx)("button",{className:"add-Layer-imgs",onClick:()=>N((e=>({...e,temp_index:a.index,currsubState:"RandomGenerator-LayerOptions-AddLayer"}))),children:"+"}),(0,g.jsx)(p,{})]})]})}if(_.data.layers.length>0){let t=_.data.layers.length,a=0,n=[];for(;a<t;a++)n.push((0,g.jsx)(e,{layerData:{index:a}},a));return n}}function G(){var e;const t=(e,t)=>{e.preventDefault();const a=e.target;a.value&&(_.data.background[t].trait_name=a.value,a.setAttribute("placeholder",a.value))},a=(e,t)=>{var a;return(0,y.QP)(),_.data.background.splice(t,1),0===(null===(a=_.data.background)||void 0===a?void 0:a.length)&&delete _.data.background,N((e=>({...e}))),(0,y.Zk)()};if((null===(e=_.data.layers)||void 0===e?void 0:e.length)>1&&_.data.background){const e=_.data.background.length;let n=[];for(let r=0;r<e;r++){const e=`data:image/${_.data.background[r].ext};base64,`+_.data.background[r].path;n.push((0,g.jsxs)("div",{className:"BG_UpldContentBx",children:[(0,g.jsxs)("div",{className:"BG_UpldContent",children:[(0,g.jsx)("img",{src:e,alt:""}),(0,g.jsx)("div",{className:"traitName",children:(0,g.jsx)("input",{className:"BG_traitNameBox",type:"text",placeholder:_.data.background[r].trait_name,onClick:e=>{e.target.value=_.data.background[r].trait_name},onChange:e=>t(e,r)})})]}),(0,g.jsx)("button",{className:"delBG",id:"deleteBGUpldContentBx_"+r,onClick:e=>a(0,r),children:"X"})]},r))}return(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsxs)("div",{className:"bg_title_box",children:[" ",(0,g.jsx)("span",{children:" Backgrounds "})," "]})," ",n," ",(0,g.jsxs)("div",{className:"LayerbgAdd",id:"selectBG",onClick:e=>N((e=>({...e,currsubState:"RandomGenerator-LayerOptions-BG-Upld"}))),children:[" ",(0,g.jsxs)("div",{className:"LayerbgContentadd",children:[" ",(0,g.jsx)("span",{children:"+"})," "]})," ",(0,g.jsx)("span",{children:" Add image. "})," "]})," "]})}}let T=_.data.activeContract,O={};function R(){var e;if((null===(e=_.data.samples)||void 0===e?void 0:e.length)>0){let e=0,a=[];for(;e<(null===(t=_.data.samples)||void 0===t?void 0:t.length);){var t;const n=(0,s.Ey)(_.data.samples[e].path);a.push((0,g.jsx)("div",{className:"layer-image-container",children:(0,g.jsx)("div",{className:"img-box",children:(0,g.jsx)("img",{className:"sampleImage",src:n,alt:""})})},e)),e++}return(0,g.jsxs)("div",{className:"contracted-box",children:[(0,g.jsxs)("div",{id:"nftSamples-container",className:"contracted-container",children:[(0,g.jsx)("h3",{children:"Generated Samples"}),a]}),(0,g.jsx)("button",{className:"expander-div",onClick:e=>{(0,m.i)(e,document.getElementById("nftSamples-container"),"nftSamples-expanded-container","nftSamples-contracted-container")},children:"expand"})]})}}(0,n.useEffect)((()=>{_.data.contracts&&T&&(O.name=_.data.contracts[T].name,O.contract=_.data.contracts[T].contract)}),[T]);let $,A,I,D,P="RandomGenerator-RandomGenerated"===_.currsubState;function Z(){var e;let t=[];if((null===(e=_.data.contracts)||void 0===e?void 0:e.length)>0&&"RandomGenerator-ContractDeployed"!==_.currsubState){var a,n;const e=_.data.contracts;let r=e.length;const s=(e,t)=>{(0,y.QP)(),e.preventDefault(),_.data.activeContract=t,N((e=>({...e}))),(0,y.Zk)()};for(let a=0;a<r;a++)t.push((0,g.jsxs)("button",{onClick:e=>s(e,a),className:"contractBox",children:[(0,g.jsx)("img",{src:"./solidity_icon.svg",id:"contractBoxImg_"+a,alt:""}),(0,g.jsx)("span",{id:"contractBoxSpan_"+a,children:e[a].name})]},a));let l=(0,g.jsxs)("div",{className:"contracted-box",children:[(0,g.jsx)("div",{style:{height:"20px",width:"20px",margin:"0px 0px -30px auto",cursor:"pointer"},onClick:e=>((0,y.QP)(),N((e=>({...e,formVals:{activeContractIndex:0,contract:_.data.contracts},currsubState:"RandomGenerator-LayerOptions-Write-Contract"})))),children:(0,g.jsx)("img",{src:"./edit icon.svg",alt:""})}),(0,g.jsxs)("div",{id:"contracted-container",className:"contracted-container",children:[(0,g.jsxs)("h3",{children:[null===(a=_.data.contracts[0])||void 0===a?void 0:a.name,".sol"]}),(0,g.jsx)("span",{children:null===(n=_.data.contracts[0])||void 0===n?void 0:n.contract})]}),(0,g.jsx)("button",{className:"expander-div",onClick:e=>(0,m.i)(e,document.getElementById("contracted-container"),"contracted-container-expanded","contracted-container"),children:"expand"})]});return(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)(u.$K,{data:{divClass:"contractTitle",textType:"h2",text:"Deploy Contract"}}),(0,g.jsxs)("div",{id:"pissingD",children:[" ",t," "]})," ",l," "]})}return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"h2",text:"Contract Deployed."}}),(0,g.jsx)("a",{href:_.data.contract_link,target:"_blank",rel:"noreferrer",children:(0,g.jsx)(u.$K,{data:{divClass:"regularText",textType:"span",text:`Contract address: ${_.data.contract_address}`}})})]})}function F(){return(0,g.jsxs)("div",{className:"coll_name_box",children:[(0,g.jsx)("div",{className:"contractNameContainer",children:(0,g.jsx)("input",{type:"text",id:"contractName",className:"contractName",placeholder:_.data.coll_name?`Name: ${_.data.coll_name}`:"Name: ",onChange:E,onClick:e=>!!_.data.coll_name&&(e.target.value=_.data.coll_name)})}),(0,g.jsx)("div",{className:"contractSymbolContainer",children:(0,g.jsx)("input",{type:"text",id:"contractSymbol",className:"contractSymbol",placeholder:_.data.coll_symbol?`Symbol: ${_.data.coll_symbol}`:"Symbol: ",onChange:E,onClick:e=>!!_.data.coll_symbol&&(e.target.value=_.data.coll_symbol)})})]})}switch(_.currsubState){case"RandomGenerator-ContractDeployed":case"RandomGenerator-RandomGenerated":A=(0,g.jsxs)("div",{id:"LayerGenBoxx",children:[(0,g.jsx)(Z,{}),(0,g.jsx)(R,{}),(0,g.jsx)(u.BZ,{data:{class:"submitBttn",id:"Generate-pfp",value:"Deploy Contract",func:j}})]});break;case"RandomGenerator-LayerOptions-AddLayer":case"RandomGenerator-LayerOptions-BG-Upld":let e="RandomGenerator-LayerOptions-AddLayer"===_.currsubState,n=e&&null===_.temp_index?(0,g.jsx)("input",{className:"LayerName",id:"LayerName",name:"name",type:"text",placeholder:null!==_.formVals?_.formVals:"Enter layer name.",onChange:E,onClick:e=>e.target.value=_.formVals}):(0,g.jsx)(u.$K,{data:{divClass:"editBoxTitle",textType:"h2",text:"Upload images."}});$=(0,g.jsxs)("div",{className:"LayerUpldBox",children:[n,(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"span",text:e?`Click the "+" to upload layer images${null!==_.temp_index?" for: "+(null===(t=_.data.layers[_.temp_index])||void 0===t?void 0:t.name):""}.`:'Click the "+" to upload background images.'}}),(0,g.jsxs)("button",{className:"plusBttn",id:"LayerUpldLabel",htmlFor:"multi_asset",style:{fontSize:"50px !important"},onClick:e?e=>((0,y.QP)(e),_.formVals||null!==_.temp_index?(document.getElementById("multi_asset").click(),(0,y.Zk)(e)):(e.preventDefault(),f((e=>({...e,messages:["Enter a layer name!"],substate:_.currsubState}))),(0,y.Zk)(e))):e=>((0,y.QP)(e),document.getElementById("multi_asset").click(),(0,y.Zk)(e)),children:["+",(0,g.jsx)("input",{type:"file",id:"multi_asset",name:e?"multi_asset":"bg_asset",multiple:"multiple",onChange:e=>C(e,_.temp_index),hidden:!0})]}),(0,g.jsx)("div",{id:"layerContentBox"}),(0,g.jsx)("button",{className:"submitBttn",id:e?"addLayerImages":"bg_upld",onClick:e=>C(e,_.temp_index),children:e?"number"===typeof _.temp_index?"Add":"Create":"No Background"})]});break;case"RandomGenerator-LayerOptions-Edit-Layer":$=(0,g.jsxs)("div",{className:"LayerUpldBox",children:[(0,g.jsx)(u.$K,{data:{divClass:"editBoxTitle",textType:"h2",text:`Edit '${null===(a=_.data.layers[_.temp_index])||void 0===a?void 0:a.name}' layer.`}}),(0,g.jsxs)("div",{style:{padding:"0px 10px 10px 10px"},children:[(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Rename layer."}}),(0,g.jsx)(u.BZ,{data:{class:"renameLayerBttn",id:"bg_upld",value:"Rename",func:B}})]}),(0,g.jsxs)("div",{style:{padding:"0px 10px 10px 10px",width:"30%",boxSizing:"border-box",display:"inline-block"},children:[(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Prioritized."}}),(0,g.jsx)("button",{id:"priorityLayerBttn",className:!0===_.data.layers[_.temp_index].priority?"disablepriorityLayerBttn":"makepriorityLayerBttn",onClick:e=>{(async e=>{let t=_.data.layers[_.temp_index].priority;document.getElementById("priorityLayerBttn").classList.toggle("disablepriorityLayerBttn"),document.getElementById("priorityLayerBttn").classList.toggle("makepriorityLayerBttn"),document.getElementById("makepriorityLayerOption").classList.toggle("ispriorityLayerOption"),document.getElementById("makepriorityLayerOption").classList.toggle("notpriorityLayerOption"),document.getElementById("makepriorityLayerOptionSpan").innerText=!0===t?"NO":"YES",_.data.layers[_.temp_index].priority=!_.data.layers[_.temp_index].priority,N((e=>e))})()},children:(0,g.jsx)("div",{id:"makepriorityLayerOption",className:!0===_.data.layers[_.temp_index].priority?"ispriorityLayerOption":"notpriorityLayerOption",children:(0,g.jsx)("span",{id:"makepriorityLayerOptionSpan",children:!0===_.data.layers[_.temp_index].priority?"YES":"NO"})})})]}),(0,g.jsxs)("div",{style:{padding:"0px 10px 10px 10px",width:"70%",boxSizing:"border-box",display:"inline-block",float:"right"},children:[(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Delete layer."}}),(0,g.jsx)(u.BZ,{data:{class:"delLayerBttn",id:"bg_upld",value:"DELETE",func:L}})]})]});break;case"RandomGenerator-LayerOptions-Rename_Layer":case"RandomGenerator-LayerOptions-Del-Layer":let r="RandomGenerator-LayerOptions-Rename_Layer"===_.currsubState,s=r?(0,g.jsx)(u.Xj,{data:{typeClass:"LayerName",typeId:"LayerName",name:"name",type:"text",placeholder:_.data.layers[_.temp_index].name,onChange:E}}):(0,g.jsx)(u.BZ,{data:{class:"delLayerBttn",id:"",value:"YES",func:L}});$=(0,g.jsxs)("div",{className:"LayerUpldBox",children:[(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"h4",text:r?"Change layer name.":`Select yes to delete ${null===(b=_.data.layers[_.temp_index])||void 0===b?void 0:b.name} layer.`}}),s,(0,g.jsx)("button",{className:"nodelLayerBttn",onClick:r?B:k,children:r?"RENAME":"NO"})]});break;case"RandomGenerator-LayerOptions-Write-Contract":$=(0,g.jsx)(h,{});break;default:$=null,_.formVals=null,_.temp_index=null,I=_.data.layers.length>1?(0,g.jsx)("button",{id:_.data.background?"Generate-pfp":"selectBG",className:"submitBttn",onClick:e=>_.data.background?S(e,25):N((e=>({...e,currsubState:"RandomGenerator-LayerOptions-BG-Upld"}))),children:_.data.background?"GENERATE":"Choose Backgrounds"}):"",D=(0,g.jsx)(F,{}),A=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"generatorRightPanelAddNewLayer",id:"generatorRightPanelAddNewLayer",onClick:e=>{var t,a;if((null===(t=_.data.coll_name)||void 0===t?void 0:t.length)>0&&(null===(a=_.data.coll_symbol)||void 0===a?void 0:a.length)>0)return N((e=>({...e,temp_index:null,currsubState:"RandomGenerator-LayerOptions-AddLayer"})));{let e=[];if(_.data.coll_symbol||e.push("Enter a project/NFT symbol!"),_.data.coll_name||e.push("Enter a project/NFT name!"),e.length>0)return f((t=>({...t,messages:e,substate:_.currsubState})))}},children:" + "}),(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"h2",text:"LAYERS"}}),(0,g.jsx)(u.$K,{data:{divClass:"optionsTitle",textType:"span",text:'Click the "+" icon to create new layer'}}),(0,g.jsxs)("div",{id:"LayerGenBoxx",children:[" ",(0,g.jsx)(w,{})," "]}),(0,g.jsx)(G,{}),I]})}function U(){return $?(0,g.jsxs)("div",{className:"RandomGenerator-LayerOptions-Write-Contract"===_.currsubState?"RandomGenerator":"LayerOptionsBox",children:[(0,g.jsx)("button",{className:"closeBox",onClick:k,children:"X"}),$]}):(0,g.jsxs)("div",{className:"RandomGenerator",children:[(0,g.jsx)("button",{className:"closeBox",onClick:()=>N((e=>({...e,state:"home",data:{coll_name:null,coll_symbol:null,layers:[]},currsubState:null,temp_index:null}))),children:"X"}),D,(0,g.jsx)("div",{className:"LayerGenBox",children:A})]})}return(0,g.jsx)(U,{})}}}]);
//# sourceMappingURL=433.399407a0.chunk.js.map