"use strict";(self.webpackChunkyaad=self.webpackChunkyaad||[]).push([[433],{7139:function(e,t,a){a.d(t,{i:function(){return n},x:function(){return r}});var n=function(e,t,a,n){var r=e?e.target:null;t.classList.contains(a)?(t.classList.remove(a),t.classList.add(n),r&&(r.innerText="expand")):(t.classList.add(a),t.classList.remove(n),r&&(r.innerText="less"))},r=function(e,t){e.parentNode.replaceChild(e,t),e.parentNode.insertBefore(t,e)}},3433:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});a(7762);var n=a(885),r=a(4165),s=a(5861),o=a(1413),i=a(2791),c=a(8329),l=a(7584),u=a(1102),d=a(1065),p=a(1449),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,s,o,i){var c,l,u,d,m,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=document.getElementById(s)).innerHTML="",l=t.length,console.log("files length: ".concat(l)),0!==l){e.next=6;break}return e.abrupt("return",i(["Upload a file.",o]));case 6:for(u=[],d=0,m=function(e){var r=t[e];(0,p.m)(r,(function(r){var s=(0,n.Z)(r,2),p=s[0],m=s[1];if(m){if(m.match(/^(jpg|png|gif|webp)/)){var x=document.createElement("img");x.addEventListener("load",(function(){if(x.width<=2e3&&x.height<=2e3){d++,u.push({path:p,ext:m});var t=document.createElement("div");t.appendChild(x),t.classList.add(a||"LayerUpldContentBox"),c.appendChild(t)}else x.remove(),o.push(e);if(l===d+o.length)return i([null,o,u.length>0?u:null])})),x.src="data:image/".concat(m,";base64,")+p}else if(o.push(e),t.length===o.length)return i(["Unsupported file types! JPG, JPEG, PNG, WEBP, GIF, JPE only.",o])}else if(o.push(e),t.length===o.length)return i(["Unknown file type, images only! Supported types: JPG, JPEG, PNG only.",o])}))},x=0;x<l;x++)m(x);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),x=a(6931),f=function(e){for(var t,a,n=e.length;n>0;)a=Math.floor(Math.random()*n),t=e[--n],e[n]=e[a],e[a]=t;return e},y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n,s){var o,i,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===s||void 0===s?[]:s,(n=null===n||void 0===n?0:n)<t.length)for(o=t[n],i=0;i<o.length;)c=o[i],s.push(c),y(t,a,n+1,s),s.pop(),i++;else a.push(s.slice());case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),h=a(7139),g=(a(4363),a(6505)),b=a(4880),v=a(4684),k=a(8188),Z=(a(9232),a(184)),_=(0,i.lazy)((function(){return a.e(912).then(a.bind(a,3440))}));var N=function(e){window.location.host;var t,a,p,N=(0,i.useContext)(k.G),j=(N.msgStacks,N.setMsgStacks),C=(0,i.useContext)(c.s),L=C.state,B=C.setState,S=function(e){var t=1;return e.forEach((function(e,a,n){t*=e.priority?e.traits.length:e.traits.length+1})),t};L.data.activeContract=0;var w=function(e){var t,a;switch((0,v.QP)(),L.currsubState){case"RandomGenerator":localStorage.clear(),a={state:"home",data:""};break;case"RandomGenerator-LayerOptions-Write-Contract":L.formVals=null,a={currsubState:"RandomGenerator-RandomGenerated"};break;default:null===(t=L.data)||void 0===t||delete t.tempFiles,a={currsubState:"RandomGenerator"}}return B((function(e){return(0,o.Z)((0,o.Z)({},e),a)}))},E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s,i,c,l,p,m,x,f,y,h,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.QP)(t),e.next=3,(0,d.SY)();case 3:if(a=e.sent,L.data.coll_name&&""!==L.data.coll_name.trim()){e.next=6;break}return e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["Enter a project/NFT name!"],substate:L.currsubState})})));case 6:if(L.data.coll_symbol&&""!==L.data.coll_symbol.trim()){e.next=8;break}return e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["Enter a symbol!"],substate:L.currsubState})})));case 8:for(e.prev=8,n={language:"Solidity",sources:{},settings:{outputSelection:{"*":{"*":["*"]}}}},s=L.data.contracts[0].contract.split("\n"),i=null===s||void 0===s?void 0:s.length,l=0;l<i;l++)s[l].includes("contract ")&&""===s[l].split("contract ")[0].trim()&&(console.log("contract name: ".concat(s[l].split("contract ")[1].trim().split(" ")[0])),c=s[l].split("contract ")[1].trim().split(" ")[0]);return L.data.contracts.forEach((function(e,t){n.sources["".concat(e.name,".sol")]={content:e.contract}})),console.log("chain data: ".concat(JSON.stringify(L.chainData))),e.next=17,(0,d.SY)();case 17:if(p=e.sent,m=new FormData,!p.code){e.next=22;break}return(0,v.Zk)(),e.abrupt("return",!1);case 22:return m.append("contractJSON",JSON.stringify(n)),m.append("contractName",c),e.next=26,fetch(L.baseServerUri+"compileContract",{method:"POST",body:m}).then((function(e){return e.json()})).then((function(e){return e}));case 26:return x=e.sent,f=x.abi,y=x.bytecode,h=new u.lV(f,y,d.Mu),e.next=32,h.deploy(L.data.coll_name,L.data.coll_symbol).then((function(e){return e})).catch((function(e){return e}));case 32:if(g=e.sent,console.log("address: ".concat(a,", nft token: ").concat(JSON.stringify(g.reason))),m=null,!g.code){e.next=38;break}return(0,v.Zk)(t),e.abrupt("return");case 38:if(!g.address){e.next=41;break}return(0,v.Zk)(t),e.abrupt("return",B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{currsubState:"RandomGenerator-ContractDeployed",data:(0,o.Z)((0,o.Z)({},e.data),{},{contract_address:g.address,contract_link:"https://".concat(d.uN.name,".etherscan.io/address/").concat(g.address)})})})));case 41:e.next=47;break;case 43:return e.prev=43,e.t0=e.catch(8),console.log("error: ".concat(e.t0)),e.abrupt("return",e.t0);case 47:case"end":return e.stop()}}),e,null,[[8,43]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var s,i,c,l,u,d,p,x,f,y,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.QP)(t),i=!1,"file"!==t.target.getAttribute("type")||"multi_asset"!==t.target.getAttribute("name")&&"bg_asset"!==t.target.getAttribute("name")){e.next=14;break}if(!(t.target.files.length<1&&null!==L.data.tempFiles)){e.next=7;break}return e.abrupt("return",(0,v.Zk)(t));case 7:c=t.target.files;case 8:if(!(c.length<1)){e.next=11;break}return t.target.classList.remove("inactive"),e.abrupt("return",(0,v.Zk)(t));case 11:return e.next=13,m(c,"LayerUpldContentBox","layerContentBox",[],(function(e){var a=(0,n.Z)(e,3),r=a[0],s=a[1],i=a[2];return s,null!==r||s.length===c.length?((0,v.Zk)(t),j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{substate:L.currsubState,messages:null!==r?[r]:["Images too large Max height: 2000px, max width: 2000px."]})}))):(document.getElementById("bg_upld")&&(document.getElementById("bg_upld").textContent=c.length>0?"NEXT":"No Background"),L.data.tempFiles=i,(0,v.Zk)(t))}));case 13:return e.abrupt("return");case 14:if("bg_upld"===t.target.getAttribute("id")){e.next=24;break}if(s=null===L.temp_index?L.formVals:null===(l=L.data.layers[L.temp_index])||void 0===l?void 0:l.name,u=[],console.log("indx: ".concat(a)),null===a&&(null===(d=L.data.layers)||void 0===d||d.forEach((function(e,t,a){e.name===s&&u.push("This layer name is already in use, enter another!")}))),s||u.push("Enter a layer name!"),L.data.tempFiles||u.push("Click the '+' to upload files!"),!((null===u||void 0===u?void 0:u.length)>0)){e.next=24;break}return(0,v.Zk)(t),e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{substate:L.currsubState,messages:u})})));case 24:if(i="bg_upld"===t.target.getAttribute("id")&&!0,L.data.tempFiles||"bg_upld"!==t.target.getAttribute("id")){e.next=28;break}return L.data.background=L.data.background&&0!==(null===(p=L.data.background)||void 0===p?void 0:p.length)?L.data.background:[],e.abrupt("return",w());case 28:x=L.data.tempFiles.length,null!==a||i||(L.data.layers.push({name:s,traits:[]}),a=L.data.layers.length-1),f=0;case 31:if(!(f<x)){e.next=43;break}if(y=L.data.tempFiles[f].path,h=L.data.tempFiles[f].ext,!i){e.next=38;break}Array.isArray(L.data.background)?L.data.background.push({trait_name:f,path:y,ext:h}):L.data.background=[{trait_name:f,path:y,ext:h}],e.next=40;break;case 38:return e.next=40,L.data.layers[a].traits.push({trait_name:f,path:y,ext:h});case 40:f++,e.next=31;break;case 43:return e.abrupt("return",w());case 44:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("RandomGenerator-LayerOptions-Edit-Layer"!==L.currsubState){e.next=4;break}return e.abrupt("return",B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{currsubState:"RandomGenerator-LayerOptions-Del-Layer",previous:e.currsubState})})));case 4:if((0,v.QP)(),null===L.temp_index){e.next=9;break}return L.data.layers.splice(L.temp_index,1),(0,v.Zk)(),e.abrupt("return",w());case 9:return e.abrupt("return",w());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){(0,v.QP)(e);var t=L.formVals;if("RandomGenerator-LayerOptions-Edit-Layer"===L.currsubState)return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{currsubState:"RandomGenerator-LayerOptions-Rename_Layer"})}));var a=!1;return(0,x.sg)(t,["_"," ","."])&&(0,x.SA)(t,1,50)?(L.data.layers.forEach((function(e,n,r){e.name===t.trim()&&(a=!0)})),!0===a?((0,v.Zk)(e),j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["Layer name is already in use, Enter another name."]})}))):(L.data.layers[L.temp_index].name=L.formVals,w())):void(0,v.Zk)(e)},R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=L.data.layers[L.temp_index].priority,document.getElementById("priorityLayerBttn").classList.toggle("disablepriorityLayerBttn"),document.getElementById("priorityLayerBttn").classList.toggle("makepriorityLayerBttn"),document.getElementById("makepriorityLayerOption").classList.toggle("ispriorityLayerOption"),document.getElementById("makepriorityLayerOption").classList.toggle("notpriorityLayerOption"),document.getElementById("makepriorityLayerOptionSpan").innerText=!0===a?"NO":"YES",L.data.layers[L.temp_index].priority=!L.data.layers[L.temp_index].priority,B((function(e){return e}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var n,i,c,u,p,m,x,h,b,k,Z,_,N,C,w,E,G;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.QP)(t),!((n=S(L.data.layers))<a)){e.next=5;break}return(0,v.Zk)(t),e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["Add more images to existing layers or create more layers. Your current layers only generate ".concat(n," possible unique images.")],substate:L.currentSubState})})));case 5:if(null!==L.chainData){e.next=11;break}return e.next=8,(0,d.SY)();case 8:if(!e.sent.code){e.next=11;break}return e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["web3 wallet connection error occured"],substate:L.currentSubState})})));case 11:return e.next=13,(0,d.Hy)(L.chainData);case 13:if(!(i=e.sent).code){e.next=16;break}return e.abrupt("return",j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["web3 wallet connection error occured"],substate:L.currentSubState})})));case 16:return L.data.account=i,c=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var n,s,o,c,u,d,p,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],L.data.newlayers=[],a.reverse(),s=0;case 4:if(!(s<a.length)){e.next=28;break}n.push({name:a[s].name,priority:a[s].priority,traits:[]}),o=0;case 7:if(!(o<a[s].traits.length)){e.next=25;break}return c={pinataMetadata:{name:"".concat(a[s].name,": ").concat(a[s].traits[o].trait_name),keyvalues:{description:"nft trait element from collection, generated by Yaad labs.",name:"".concat(a[s].name,": ").concat(a[s].traits[o].trait_name)}},pinataOptions:{cidVersion:0}},u=i+"__"+Date.now()+"."+a[s].traits[o].ext,d=new FormData,e.next=13,(0,l.Jr)((0,l.Ey)(a[s].traits[o].path));case 13:return p=e.sent,d.append("img",p,u),d.append("the_options",JSON.stringify(c)),e.next=18,fetch("".concat(L.baseServerUri,"pinnit"),{method:"POST",body:d}).then((function(e){return e.json()})).then((function(e){return e}));case 18:m=e.sent,a[s].traits[o].ipfsHash=m.IpfsHash,L.data.newlayers.push({trait_name:a[s].traits[o].trait_name,layer_index:s,trait_index:o,ipfsHash:m.IpfsHash}),n[s].traits.push({trait_name:a[s].traits[o].trait_name,layer_index:s,trait_index:o,ipfsHash:m.IpfsHash});case 22:o++,e.next=7;break;case 25:s++,e.next=4;break;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s,o,c,u,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=23;break}return s={pinataMetadata:{name:"background ".concat(n,"."),keyvalues:{description:"nft trait element from collection, generated by Yaad labs."}},pinataOptions:{cidVersion:0}},o=i+"__"+Date.now()+"."+t[n].ext,c=new FormData,e.next=8,fetch((0,l.Ey)(t[n].path));case 8:return u=e.sent,e.next=11,u.blob();case 11:return d=e.sent,c.append("img",d,o),c.append("the_options",JSON.stringify(s)),console.log("pinning layers!"),e.next=17,fetch("".concat(L.baseServerUri,"pinnit"),{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){return e}));case 17:p=e.sent,t[n].ipfsHash=p.IpfsHash,a.push({trait_name:t[n].trait_name,trait_index:n,ipfsHash:p.IpfsHash});case 20:n++,e.next=2;break;case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0,n=[],o=[];a<t.length;)t[a].priority&&o.push(t[a].name),s=t[a].traits.map((function(e,n){return{trait_type:t[a].name,trait_name:t[a].traits[n].trait_name,value:e.ipfsHash}})),n.push(s),a++;return s=null,e.abrupt("return",[n,o]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<t.length;)a.includes(t[n][0].trait_type)||t[n].push({trait_type:t[n][0].trait_type,value:"N/A"}),n++;return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,u(a);case 3:for(s=e.sent;n<t.length;)o=s[Math.floor(Math.random()*s.length)],t[n].splice(0,0,{trait_type:"background",trait_name:o.trait_name,value:o.ipfsHash}),n++;case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n){var s,o,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],e.next=3,c(t,a);case 3:return o=e.sent,e.next=6,p(o);case 6:return i=e.sent,e.next=9,m(i[0],i[1]);case 9:return l=e.sent,e.next=12,y(l,s);case 12:return e.next=14,f(s);case 14:if(!((null===n||void 0===n?void 0:n.length)>0)){e.next=17;break}return e.next=17,x(s,n);case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),e.next=25,h(L.data.coll_name,L.data.layers,L.data.background);case 25:return b=e.sent,k=b.length,Z=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,a="string"===typeof t?t:JSON.stringify(t),n=(new TextEncoder).encode(a).length,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=30,Z(b).then((function(e){return e}));case 30:if(_=e.sent,console.log("size of combo: ".concat(_," bytes")),N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n){var s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("path",JSON.stringify(t)),s.append("the_options",JSON.stringify(a)),e.next=5,fetch(n,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){return e}));case 5:return o=e.sent,s=null,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),C={pinataMetadata:{name:L.data.coll_name,keyvalues:{}},pinataOptions:{cidVersion:0}},!(_<2e7)){e.next=41;break}return e.next=37,N(b,C,"".concat(L.baseServerUri,"pinnitcombo"));case 37:w=e.sent,console.log("pinning combo!"),e.next=42;break;case 41:w={IpfsHash:null};case 42:return E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n){var c,u,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],u=t.length,d=function(e){var d=t[e].filter((function(e){return"N/A"!==e.value})),p=d.length,m=document.createElement("canvas");m.width=a,m.height=n;for(var x=m.getContext("2d"),f=1,y=0;y<p;y++){var h=d[y];try{var b=0===y&&L.data.background.length>0?L.data.background.length:L.data.newlayers.length;e:for(var v=0;v<b;v++){var Z=0===y&&L.data.background.length>0?L.data.background[v]:L.data.newlayers[v];if(Z.ipfsHash===h.value){var _=function(){console.log("drawing images: ".concat(y));var t=new Image,h=0===y&&L.data.background.length>0?Z.path:L.data.layers[Z.layer_index].traits[Z.trait_index].path;return t.src=(0,l.Ey)(h),t.addEventListener("load",(0,s.Z)((0,r.Z)().mark((function y(){var h,b;return(0,r.Z)().wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(x.drawImage(t,0,0,a,n),f!==p){y.next=10;break}return y.next=4,(0,l.mS)(null,m.toDataURL("image/png"));case 4:if(h=y.sent,c.push({name:"sample turd #".concat(e),attributes:d,path:h}),b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n,c,l){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(u=new FormData).append("data",JSON.stringify(L.data)),u.append("collname",L.data.coll_name),u.append("collSym",L.data.coll_symbol),u.append("account",i),u.append("ipfs_uri",l),u=null,fetch(g).then((function(e){return e.text()})).then(function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{data:(0,o.Z)((0,o.Z)({},e.data),{},{coll_name:e.data.coll_name,coll_symbol:e.data.coll_symbol,samples:c,possibleCombos:k,contracts:[{name:"main",contract:t}]}),currsubState:"RandomGenerator-RandomGenerated"})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),e!==u-1){y.next=10;break}return y.next=10,b(L.data,L.data.coll_name,i,c,w);case 10:f++;case 11:case"end":return y.stop()}}),y)})))),"break|loop1"}();if("break|loop1"===_)break e}}}catch(N){console.log("drawing error occurred: ".concat(JSON.stringify(N)))}}},p=0;p<u;p++)d(p);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){var n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a||t.length,s=[],o=0;o<n;o++)s.push(t[o]);return b=null,e.abrupt("return",E(s,1e3,1e3));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.next=46,G(b,a);case 46:e.sent;case 47:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(e){var t=e.target,a=t.getAttribute("id"),n=t.value.trim();if(Q)t.value=L.data.coll_name;else{if(""===n)return!1;switch(a){case"contractName":if(!(0,x.sg)(n,["_"," "])||!(0,x.SA)(n,1,30))return void(t.value=L.data.coll_name);L.data.coll_name=n,t.setAttribute("placeholder",n);break;case"contractSymbol":if(!(0,x.sg)(n,["_"," "])||!(0,x.SA)(n,1,4))return void(t.value=L.data.coll_symbol);L.data.coll_symbol=n,t.setAttribute("placeholder",n);break;default:if(!(0,x.sg)(n,["_"," "])||!(0,x.SA)(n,1,50))return void(t.value=L.formVals);L.formVals=n,t.setAttribute("placeholder",n)}}};function D(){function e(e){var t,a=e.layerData,n=[],c=document.getElementById("LayerGenBoxx"),l=null;(0,i.useEffect)((function(){[].forEach.call(document.getElementsByClassName("layerBox"),(function(e){n.push(e.getBoundingClientRect().top+document.getElementById("popup").scrollTop)}))}),[c,n]);var u=function(e,a){if("layerBox"===e.target.getAttribute("class")&&(t=!1,"mousedown"===e.type||"touchstart"===e.type)){if(!0===t)return!1;var r=e.target,s=r.clientWidth,o=document.getElementById("popup"),i=a,c=document.getElementsByClassName("layerBox"),u=r.clientHeight/2;r.classList.add("sortable-handler"),l=i,r.style.width=s+"px",r.style.top="touchstart"===e.type?e.touches[0].clientY+o.scrollTop-u+"px":e.clientY+o.scrollTop-u+"px",window.onmousemove=function(e){!1===t&&(r.style.top=e.clientY+o.scrollTop-u+"px",n.forEach((function(t,a){i>a&&e.clientY+o.scrollTop-35<t&&e.clientY+o.scrollTop-35>t-70&&((0,h.x)(c[a].parentNode,r.parentNode),l=a,i=a),i<a&&e.clientY+o.scrollTop+35>t+70&&e.clientY+o.scrollTop+35<t+140&&((0,h.x)(r.parentNode,c[a].parentNode),l=a,i=a)})))},window.ontouchmove=function(e){!1===t&&(r.style.top=e.touches[0].clientY+o.scrollTop-u+"px",n.forEach((function(t,a){i>a&&e.touches[0].clientY+o.scrollTop-35<t&&e.touches[0].clientY+o.scrollTop-35>t-70&&((0,h.x)(c[a].parentNode,r.parentNode),l=a,i=a),i<a&&e.touches[0].clientY+o.scrollTop+35>t+70&&e.touches[0].clientY+o.scrollTop+35<t+140&&((0,h.x)(r.parentNode,c[a].parentNode),l=a,i=a)})))}}},d=function(e,a){if("layerBox"===e.target.getAttribute("class")&&(0,v.QP)(),t=!0,"mouseup"===e.type||"touchend"===e.type||"touchcancel"===e.type){e.target.classList.remove("sortable-handler");for(var n=document.getElementsByClassName("layerBox"),r=0;r<n.length;)n[r].classList.remove("betweenItem_two"),n[r].classList.remove("betweenItem"),r++;if(t=!0,"layerBox"===e.target.getAttribute("class")){if(a!==l){var s=L.data.layers.splice(a,1)[0];L.data.layers.splice(l,0,s)}return B((function(e){return(0,o.Z)({},e)})),(0,v.Zk)()}}},p=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(s=t.target).value&&(L.data.layers[a].traits[n].trait_name=s.value,s.setAttribute("placeholder",s.value));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){for(var e=[],t=L.data.layers[a.index].traits.length,n=function(t){var n="data:image/".concat(L.data.layers[a.index].traits[t].ext,";base64,").concat(L.data.layers[a.index].traits[t].path),r=L.data.layers[a.index].traits[t].trait_name;e.push((0,Z.jsxs)("div",{className:"layer-image-container",children:[(0,Z.jsx)("div",{className:"img-box",children:(0,Z.jsx)("img",{src:n,alt:""})}),(0,Z.jsxs)("div",{className:"traitName",children:[(0,Z.jsx)("input",{className:"traitNameBox",id:"traitName_"+t,placeholder:r,type:"text",name:"name",onClick:function(e){e.target.value=r},onChange:function(e){return p(e,a.index,t)}}),(0,Z.jsx)("button",{className:"del-trait",onClick:function(e){return function(e,t,a){return(0,v.QP)(),L.data.layers[t].traits.splice(a,1),0===L.data.layers[t].traits.length&&L.data.layers.splice(t,1),(0,v.Zk)(),B((function(e){return(0,o.Z)({},e)}))}(0,a.index,t)},children:"X"})]})]},t))},r=0;r<t;r++)n(r);return e};return(0,Z.jsxs)("div",{className:"layer-box-content",onMouseDown:function(e){return u(e,a.index)},onMouseUp:function(e){return d(e,a.index)},onTouchStart:function(e){return u(e,a.index)},onTouchCancel:function(e){return d(e,a.index)},onTouchEnd:function(e){return d(e,a.index)},children:[(0,Z.jsxs)("div",{className:"layerBox",children:[(0,Z.jsxs)("button",{className:"expander-box",onClick:function(e){return function(e,t){(0,v.QP)();for(var a=0;a<document.getElementsByClassName("layer-images-box").length;)a!==t&&(document.getElementsByClassName("layer-images-box")[a].classList.contains("inactive")||document.getElementsByClassName("layer-images-box")[a].classList.add("inactive"),document.getElementsByClassName("triangle-icon")[a].classList.contains("rotateExpander")&&document.getElementsByClassName("triangle-icon")[a].classList.remove("rotateExpander")),a++;document.getElementsByClassName("layer-images-box")[t].classList.contains("inactive")?(document.getElementsByClassName("triangle-icon")[t].classList.add("rotateExpander"),document.getElementsByClassName("layer-images-box")[t].classList.remove("inactive"),document.getElementsByClassName("expander-box")[t].style.backgroundColor="rgb(129, 129, 129)"):(document.getElementsByClassName("triangle-icon")[t].classList.remove("rotateExpander"),document.getElementsByClassName("layer-images-box")[t].classList.add("inactive"),document.getElementsByClassName("expander-box")[t].style.backgroundColor="rgb(190, 190, 190)"),(0,v.Zk)()}(0,a.index)},children:[(0,Z.jsx)("div",{className:"prioBox",style:{width:"10px",float:"left",height:"10px",borderRadius:"5px",left:"-10px",top:"-10px",boxSizing:"border-box",backgroundColor:"rgb(140, 140, 140)"},onClick:function(){return!1},children:(0,Z.jsx)("div",{className:"prioBoxx",style:{width:"70%",height:"70%",margin:"15%",borderRadius:"35%",backgroundColor:L.data.layers[a.index].priority?"rgb(0, 172, 7)":"#F0000",boxSizing:"border-box",borderLeft:L.data.layers[a.index].priority?"1px solid rgb(159, 255, 162)":"1px solid rgb(190, 190, 190)",borderTop:L.data.layers[a.index].priority?"1px solid rgb(159, 255, 162)":"1px solid rgb(190, 190, 190)"},children:(0,Z.jsx)("div",{className:"prioBoxxx",style:{width:"30%",height:"30%",top:"1px",right:"1px",borderRadius:"35%",backgroundColor:L.data.layers[a.index].priority?"rgb(159, 255, 162)":"rgb(190, 190, 190)",boxSizing:"border-box"}})})}),(0,Z.jsx)("div",{className:"layer-name",children:(0,Z.jsxs)("span",{children:[" ",L.data.layers[a.index].name," "]})}),(0,Z.jsx)("div",{className:"triangle-icon-container",children:(0,Z.jsx)("img",{className:"triangle-icon",src:"./inverted-triangle.svg",alt:""})})]}),(0,Z.jsx)("div",{className:"edit-layer-box",children:(0,Z.jsx)("div",{className:"edit-layer-icon-div",onClick:function(e){return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{temp_index:a.index,currsubState:"RandomGenerator-LayerOptions-Edit-Layer"})}))},children:(0,Z.jsx)("img",{src:"./edit icon.svg",alt:"Edit layer"})})})]}),(0,Z.jsxs)("div",{className:"layer-images-box inactive",children:[(0,Z.jsx)("button",{className:"add-Layer-imgs",onClick:function(){return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{temp_index:a.index,currsubState:"RandomGenerator-LayerOptions-AddLayer"})}))},children:"+"}),(0,Z.jsx)(m,{})]})]})}if(L.data.layers.length>0){for(var t=L.data.layers.length,a=0,n=[];a<t;a++)n.push((0,Z.jsx)(e,{layerData:{index:a}},a));return n}}function P(){var e;if((null===(e=L.data.layers)||void 0===e?void 0:e.length)>1&&L.data.background){for(var t=L.data.background.length,a=[],n=function(e){var t="data:image/".concat(L.data.background[e].ext,";base64,")+L.data.background[e].path;a.push((0,Z.jsxs)("div",{className:"BG_UpldContentBx",children:[(0,Z.jsxs)("div",{className:"BG_UpldContent",children:[(0,Z.jsx)("img",{src:t,alt:""}),(0,Z.jsx)("div",{className:"traitName",children:(0,Z.jsx)("input",{className:"BG_traitNameBox",type:"text",placeholder:L.data.background[e].trait_name,onClick:function(t){t.target.value=L.data.background[e].trait_name},onChange:function(t){return function(e,t){e.preventDefault();var a=e.target;a.value&&(L.data.background[t].trait_name=a.value,a.setAttribute("placeholder",a.value))}(t,e)}})})]}),(0,Z.jsx)("button",{className:"delBG",id:"deleteBGUpldContentBx_"+e,onClick:function(t){return function(e,t){var a;return(0,v.QP)(),L.data.background.splice(t,1),0===(null===(a=L.data.background)||void 0===a?void 0:a.length)&&delete L.data.background,B((function(e){return(0,o.Z)({},e)})),(0,v.Zk)()}(0,e)},children:"X"})]},e))},r=0;r<t;r++)n(r);return(0,Z.jsxs)(Z.Fragment,{children:[" ",(0,Z.jsxs)("div",{className:"bg_title_box",children:[" ",(0,Z.jsx)("span",{children:" Backgrounds "})," "]})," ",a," ",(0,Z.jsxs)("div",{className:"LayerbgAdd",id:"selectBG",onClick:function(e){return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{currsubState:"RandomGenerator-LayerOptions-BG-Upld"})}))},children:[" ",(0,Z.jsxs)("div",{className:"LayerbgContentadd",children:[" ",(0,Z.jsx)("span",{children:"+"})," "]})," ",(0,Z.jsx)("span",{children:" Add image. "})," "]})," "]})}}var F=L.data.activeContract,U={};function Y(){var e;if((null===(e=L.data.samples)||void 0===e?void 0:e.length)>0){for(var t=0,a=[];t<(null===(n=L.data.samples)||void 0===n?void 0:n.length);){var n,r=(0,l.Ey)(L.data.samples[t].path);a.push((0,Z.jsx)("div",{className:"layer-image-container",children:(0,Z.jsx)("div",{className:"img-box",children:(0,Z.jsx)("img",{className:"sampleImage",src:r,alt:""})})},t)),t++}return(0,Z.jsxs)("div",{className:"contracted-box",children:[(0,Z.jsxs)("div",{id:"nftSamples-container",className:"contracted-container",children:[(0,Z.jsx)("h3",{children:"Generated Samples"}),a]}),(0,Z.jsx)("button",{className:"expander-div",onClick:function(e){(0,h.i)(e,document.getElementById("nftSamples-container"),"nftSamples-expanded-container","nftSamples-contracted-container")},children:"expand"})]})}}(0,i.useEffect)((function(){L.data.contracts&&F&&(U.name=L.data.contracts[F].name,U.contract=L.data.contracts[F].contract)}),[F]);var H,J,V,M,Q="RandomGenerator-RandomGenerated"===L.currsubState;function K(){var e,t=[];if(!((null===(e=L.data.contracts)||void 0===e?void 0:e.length)>0&&"RandomGenerator-ContractDeployed"!==L.currsubState))return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"h2",text:"Contract Deployed."}}),(0,Z.jsx)("a",{href:L.data.contract_link,target:"_blank",rel:"noreferrer",children:(0,Z.jsx)(b.$K,{data:{divClass:"regularText",textType:"span",text:"Contract address: ".concat(L.data.contract_address)}})})]});var a=function(){for(var e,a,n=L.data.contracts,r=n.length,s=function(e){t.push((0,Z.jsxs)("button",{onClick:function(t){return function(e,t){(0,v.QP)(),e.preventDefault(),L.data.activeContract=t,B((function(e){return(0,o.Z)({},e)})),(0,v.Zk)()}(t,e)},className:"contractBox",children:[(0,Z.jsx)("img",{src:"./solidity_icon.svg",id:"contractBoxImg_"+e,alt:""}),(0,Z.jsx)("span",{id:"contractBoxSpan_"+e,children:n[e].name})]},e))},i=0;i<r;i++)s(i);var c=(0,Z.jsxs)("div",{className:"contracted-box",children:[(0,Z.jsx)("div",{style:{height:"20px",width:"20px",margin:"0px 0px -30px auto",cursor:"pointer"},onClick:function(e){return(0,v.QP)(),B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{formVals:{activeContractIndex:0,contract:L.data.contracts},currsubState:"RandomGenerator-LayerOptions-Write-Contract"})}))},children:(0,Z.jsx)("img",{src:"./edit icon.svg",alt:""})}),(0,Z.jsxs)("div",{id:"contracted-container",className:"contracted-container",children:[(0,Z.jsxs)("h3",{children:[null===(e=L.data.contracts[0])||void 0===e?void 0:e.name,".sol"]}),(0,Z.jsx)("span",{children:null===(a=L.data.contracts[0])||void 0===a?void 0:a.contract})]}),(0,Z.jsx)("button",{className:"expander-div",onClick:function(e){return(0,h.i)(e,document.getElementById("contracted-container"),"contracted-container-expanded","contracted-container")},children:"expand"})]});return{v:(0,Z.jsxs)(Z.Fragment,{children:[" ",(0,Z.jsx)(b.$K,{data:{divClass:"contractTitle",textType:"h2",text:"Deploy Contract"}}),(0,Z.jsxs)("div",{id:"pissingD",children:[" ",t," "]})," ",c," "]})}}();return"object"===typeof a?a.v:void 0}function $(){return(0,Z.jsxs)("div",{className:"coll_name_box",children:[(0,Z.jsx)("div",{className:"contractNameContainer",children:(0,Z.jsx)("input",{type:"text",id:"contractName",className:"contractName",placeholder:L.data.coll_name?"Name: ".concat(L.data.coll_name):"Name: ",onChange:I,onClick:function(e){return!!L.data.coll_name&&(e.target.value=L.data.coll_name)}})}),(0,Z.jsx)("div",{className:"contractSymbolContainer",children:(0,Z.jsx)("input",{type:"text",id:"contractSymbol",className:"contractSymbol",placeholder:L.data.coll_symbol?"Symbol: ".concat(L.data.coll_symbol):"Symbol: ",onChange:I,onClick:function(e){return!!L.data.coll_symbol&&(e.target.value=L.data.coll_symbol)}})})]})}switch(L.currsubState){case"RandomGenerator-ContractDeployed":case"RandomGenerator-RandomGenerated":J=(0,Z.jsxs)("div",{id:"LayerGenBoxx",children:[(0,Z.jsx)(K,{}),(0,Z.jsx)(Y,{}),(0,Z.jsx)(b.BZ,{data:{class:"submitBttn",id:"Generate-pfp",value:"Deploy Contract",func:E}})]});break;case"RandomGenerator-LayerOptions-AddLayer":case"RandomGenerator-LayerOptions-BG-Upld":var z="RandomGenerator-LayerOptions-AddLayer"===L.currsubState,W=z&&null===L.temp_index?(0,Z.jsx)("input",{className:"LayerName",id:"LayerName",name:"name",type:"text",placeholder:null!==L.formVals?L.formVals:"Enter layer name.",onChange:I,onClick:function(e){return e.target.value=L.formVals}}):(0,Z.jsx)(b.$K,{data:{divClass:"editBoxTitle",textType:"h2",text:"Upload images."}});H=(0,Z.jsxs)("div",{className:"LayerUpldBox",children:[W,(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"span",text:z?'Click the "+" to upload layer images'.concat(null!==L.temp_index?" for: "+(null===(t=L.data.layers[L.temp_index])||void 0===t?void 0:t.name):"","."):'Click the "+" to upload background images.'}}),(0,Z.jsxs)("button",{className:"plusBttn",id:"LayerUpldLabel",htmlFor:"multi_asset",style:{fontSize:"50px !important"},onClick:z?function(e){return(0,v.QP)(e),L.formVals||null!==L.temp_index?(document.getElementById("multi_asset").click(),(0,v.Zk)(e)):(e.preventDefault(),j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:["Enter a layer name!"],substate:L.currsubState})})),(0,v.Zk)(e))}:function(e){return(0,v.QP)(e),document.getElementById("multi_asset").click(),(0,v.Zk)(e)},children:["+",(0,Z.jsx)("input",{type:"file",id:"multi_asset",name:z?"multi_asset":"bg_asset",multiple:"multiple",onChange:function(e){return G(e,L.temp_index)},hidden:!0})]}),(0,Z.jsx)("div",{id:"layerContentBox"}),(0,Z.jsx)("button",{className:"submitBttn",id:z?"addLayerImages":"bg_upld",onClick:function(e){return G(e,L.temp_index)},children:z?"number"===typeof L.temp_index?"Add":"Create":"No Background"})]});break;case"RandomGenerator-LayerOptions-Edit-Layer":H=(0,Z.jsxs)("div",{className:"LayerUpldBox",children:[(0,Z.jsx)(b.$K,{data:{divClass:"editBoxTitle",textType:"h2",text:"Edit '".concat(null===(a=L.data.layers[L.temp_index])||void 0===a?void 0:a.name,"' layer.")}}),(0,Z.jsxs)("div",{style:{padding:"0px 10px 10px 10px"},children:[(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Rename layer."}}),(0,Z.jsx)(b.BZ,{data:{class:"renameLayerBttn",id:"bg_upld",value:"Rename",func:O}})]}),(0,Z.jsxs)("div",{style:{padding:"0px 10px 10px 10px",width:"30%",boxSizing:"border-box",display:"inline-block"},children:[(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Prioritized."}}),(0,Z.jsx)("button",{id:"priorityLayerBttn",className:!0===L.data.layers[L.temp_index].priority?"disablepriorityLayerBttn":"makepriorityLayerBttn",onClick:function(e){R(e)},children:(0,Z.jsx)("div",{id:"makepriorityLayerOption",className:!0===L.data.layers[L.temp_index].priority?"ispriorityLayerOption":"notpriorityLayerOption",children:(0,Z.jsx)("span",{id:"makepriorityLayerOptionSpan",children:!0===L.data.layers[L.temp_index].priority?"YES":"NO"})})})]}),(0,Z.jsxs)("div",{style:{padding:"0px 10px 10px 10px",width:"70%",boxSizing:"border-box",display:"inline-block",float:"right"},children:[(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"span",text:"Delete layer."}}),(0,Z.jsx)(b.BZ,{data:{class:"delLayerBttn",id:"bg_upld",value:"DELETE",func:T}})]})]});break;case"RandomGenerator-LayerOptions-Rename_Layer":case"RandomGenerator-LayerOptions-Del-Layer":var X="RandomGenerator-LayerOptions-Rename_Layer"===L.currsubState,q=X?(0,Z.jsx)(b.Xj,{data:{typeClass:"LayerName",typeId:"LayerName",name:"name",type:"text",placeholder:L.data.layers[L.temp_index].name,onChange:I}}):(0,Z.jsx)(b.BZ,{data:{class:"delLayerBttn",id:"",value:"YES",func:T}});H=(0,Z.jsxs)("div",{className:"LayerUpldBox",children:[(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"h4",text:X?"Change layer name.":"Select yes to delete ".concat(null===(p=L.data.layers[L.temp_index])||void 0===p?void 0:p.name," layer.")}}),q,(0,Z.jsx)("button",{className:"nodelLayerBttn",onClick:X?O:w,children:X?"RENAME":"NO"})]});break;case"RandomGenerator-LayerOptions-Write-Contract":H=(0,Z.jsx)(_,{});break;default:H=null,L.formVals=null,L.temp_index=null,V=L.data.layers.length>1?(0,Z.jsx)("button",{id:L.data.background?"Generate-pfp":"selectBG",className:"submitBttn",onClick:function(e){return L.data.background?A(e,40):B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{currsubState:"RandomGenerator-LayerOptions-BG-Upld"})}))},children:L.data.background?"GENERATE":"Choose Backgrounds"}):"",M=(0,Z.jsx)($,{}),J=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("button",{className:"generatorRightPanelAddNewLayer",id:"generatorRightPanelAddNewLayer",onClick:function(e){var t,a;if((null===(t=L.data.coll_name)||void 0===t?void 0:t.length)>0&&(null===(a=L.data.coll_symbol)||void 0===a?void 0:a.length)>0)return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{temp_index:null,currsubState:"RandomGenerator-LayerOptions-AddLayer"})}));var n=[];return L.data.coll_symbol||n.push("Enter a project/NFT symbol!"),L.data.coll_name||n.push("Enter a project/NFT name!"),n.length>0?j((function(e){return(0,o.Z)((0,o.Z)({},e),{},{messages:n,substate:L.currsubState})})):void 0},children:" + "}),(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"h2",text:"LAYERS"}}),(0,Z.jsx)(b.$K,{data:{divClass:"optionsTitle",textType:"span",text:'Click the "+" icon to create new layer'}}),(0,Z.jsxs)("div",{id:"LayerGenBoxx",children:[" ",(0,Z.jsx)(D,{})," "]}),(0,Z.jsx)(P,{}),V]})}function ee(){return H?(0,Z.jsxs)("div",{className:"RandomGenerator-LayerOptions-Write-Contract"===L.currsubState?"RandomGenerator":"LayerOptionsBox",children:[(0,Z.jsx)("button",{className:"closeBox",onClick:w,children:"X"}),H]}):(0,Z.jsxs)("div",{className:"RandomGenerator",children:[(0,Z.jsx)("button",{className:"closeBox",onClick:function(){return B((function(e){return(0,o.Z)((0,o.Z)({},e),{},{state:"home",data:{coll_name:null,coll_symbol:null,layers:[]},currsubState:null,temp_index:null})}))},children:"X"}),M,(0,Z.jsx)("div",{className:"LayerGenBox",children:J})]})}return(0,Z.jsx)(ee,{})}}}]);
//# sourceMappingURL=433.26f6c74f.chunk.js.map