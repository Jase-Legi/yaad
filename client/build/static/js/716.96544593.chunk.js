"use strict";(self.webpackChunkyaad=self.webpackChunkyaad||[]).push([[716],{716:function(e,t,a){a.r(t);var n=a(4165),r=a(8683),i=a(5861),l=a(2791),o=a(8329),s=a(8188),u=a(1273),c=a(1449),d=(a(4363),a(6505),a(4880)),p=a(4684),v=a(184);t.default=function(e){var t=(0,l.useContext)(o.s),a=t.state,x=t.setState,m=(0,l.useContext)(s.G),f=(m.msg,m.setMsg),g=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i,l,o,s,u,d,v,m,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,p.QP)(),o=0,(0,c.U)(t.target.files[0],(function(e){console.log("file signature: ".concat(e))})),s=t.target.files[0],(u=new FileReader).addEventListener("load",(function(){1!==++o||(0,p.Zk)()})),u.readAsDataURL(s),e.abrupt("return");case 13:if(!1===(v=e.sent)){e.next=18;break}d.append("account",v),e.next=19;break;case 18:return e.abrupt("return",!1);case 19:return m=v+"__"+Date.now()+"."+t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1],d.append("single_asset",t.target.files[0],m),null!==(i=a.data)&&void 0!==i&&i.filename&&d.append("name",null===(l=a.data)||void 0===l?void 0:l.filename),e.next=24,fetch("".concat(a.baseServerUri,"upldSingle"),{method:"POST",body:d}).then((function(e){return e.json()})).then((function(e){return e}));case 24:(f=e.sent).error?x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{data:f})})):x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{state:"createbox",data:f,currsubState:"SingleNFTDetailsForm"})}));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(e){var t,l,o,s,c,m,b,h,y,k,Z,N,S,j=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i,l,o,s,c,d,v,m,g,b,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.classList.add("inactive"),(0,p.QP)(),t.preventDefault(),null!==(i=a.data)&&void 0!==i&&i.name&&""!==(null===(l=a.data)||void 0===l?void 0:l.name)&&null!==(null===(o=a.data)||void 0===o?void 0:o.name)&&void 0!==(null===(s=a.data)||void 0===s?void 0:s.name)&&null!==(c=a.data)&&void 0!==c&&c.collection&&null!==(null===(d=a.data)||void 0===d?void 0:d.collection)&&""!==(null===(v=a.data)||void 0===v?void 0:v.collection)&&void 0!==(null===(m=a.data)||void 0===m?void 0:m.collection)){e.next=6;break}return(0,p.Zk)(),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"singleNFTName",value:"",msg:"Please enter a name & collection"}],substate:a.currsubState})})));case 6:return(g=new FormData).append("data",JSON.stringify(a.data)),e.next=10,fetch(a.baseServerUri+"createone",{method:"POST",body:g}).then((function(e){return e.json()})).then((function(e){return e}));case 10:if(!(b=e.sent).error){e.next=17;break}if("duplicate"!==b.error.message){e.next=15;break}return(0,p.Zk)(),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"createSingleBoxPreview",value:"",msg:"This NFT already exists, please select an original design."}],substate:a.currsubState})})));case 15:(0,p.Zk)(),x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{currsubState:"SingleNFTDetailsForm"})}));case 17:if(!b.results){e.next=30;break}return e.next=20,(0,u.VV)(b.results.IpfsHash).finally((function(e){return e}));case 20:if("ACTION_REJECTED"!==(h=e.sent).code){e.next=25;break}return(0,p.Zk)(),t.target.classList.remove("inactive"),e.abrupt("return",f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{formdata:[{id:"createSingleBoxPreview",value:"",msg:"Transaction rejected!"}],substate:a.currsubState})})));case 25:if(console.log("minted----- ".concat(JSON.stringify(h))),!h.hash){e.next=28;break}return e.abrupt("return",x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{currsubState:"NFTminted"})})));case 28:t.target.classList.remove("inactive"),(0,p.Zk)();case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target,e.t0=t.target.getAttribute("name"),e.next="name"===e.t0?4:"collection"===e.t0?6:"price"===e.t0?8:"royalties"===e.t0?10:"desc"===e.t0?12:14;break;case 4:return a.data.name=r.value,e.abrupt("break",15);case 6:return a.data.collection=r.value,e.abrupt("break",15);case 8:return a.data.price=r.value,e.abrupt("break",15);case 10:return a.data.royalties=r.value,e.abrupt("break",15);case 12:return a.data.description=r.value,e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{className:"popupBoxEleDetailsLabel",id:"createSingleBoxPreview",htmlFor:"createSingleAssetUpld",onClick:function(){document.querySelector("#single_asset").click()},children:(0,v.jsxs)("div",{className:"popupBoxEleDetails",style:{padding:null!==(t=a.data)&&void 0!==t&&t.path?"0px":"30px",boxSizing:"border-box"},children:[" ",(0,v.jsx)("img",{src:null!==(l=a.data)&&void 0!==l&&l.path?null===(o=a.data)||void 0===o?void 0:o.path:"uploadimg.svg",style:{objectFit:"cover",height:"100%",width:"100%"},alt:""})," "]})}),(0,v.jsx)("input",{type:"file",id:"single_asset",name:"single_asset",accept:"image/*,video/*,audio/*,webgl/*,.glb,.gltf",style:{opacity:100,zIndex:1},onChange:g,hidden:!0}),(0,v.jsx)("input",{className:"popupBoxTextEle",placeholder:null!==(s=a.data)&&void 0!==s&&s.name?null===(c=a.data)||void 0===c?void 0:c.name:"Name",type:"text",name:"name",id:"singleNFTName",onChange:T,style:{opacity:100,zIndex:1}}),(0,v.jsx)(d.Xj,{data:{typeId:"singleNFTDesc",typeClass:"popupBoxTextAreaEle",name:"desc",placeholder:null!==(m=a.data)&&void 0!==m&&m.description?null===(b=a.data)||void 0===b?void 0:b.description:"Description",type:"textarea",onChange:T}}),(0,v.jsx)("input",{className:"popupBoxTextEle",placeholder:null!==(h=a.data)&&void 0!==h&&h.collection?null===(y=a.data)||void 0===y?void 0:y.collection:"Collection",type:"text",name:"collection",id:"singleNFTColl",onChange:T,style:{opacity:100,zIndex:1}}),(0,v.jsxs)("div",{style:{flexDirection:"row",maxWidth:"600px",width:"100%",margin:"0px auto"},children:[(0,v.jsx)("input",{className:"popupBoxSmallTextAreaLeftEle",placeholder:null!==(k=a.data)&&void 0!==k&&k.price?null===(Z=a.data)||void 0===Z?void 0:Z.price:"Price",type:"number",name:"price",id:"singleNFTPrice",onChange:T,style:{opacity:100,zIndex:1}}),(0,v.jsx)("input",{className:"popupBoxSmallTextAreaRightEle",placeholder:null!==(N=a.data)&&void 0!==N&&N.royalties?null===(S=a.data)||void 0===S?void 0:S.royalties:"Royalties: max 50%",type:"number",name:"royalties",id:"singleNFTRoyalty",onChange:T,style:{opacity:100,zIndex:1}})]}),(0,v.jsx)(d.BZ,{data:{class:"popupBoxEle",id:"createBox",value:"create",func:j}})]})}return(0,v.jsx)("div",{className:"popupdark",children:(0,v.jsxs)("div",{className:"popupBox",children:[(0,v.jsx)("button",{className:"closeBox",onClick:function(){return x((function(e){return(0,r.Z)((0,r.Z)({},e),{},{state:"home",data:{coll_name:null,coll_symbol:null,layers:[]},currsubState:null})}))},children:"X"}),(0,v.jsx)(b,{})]})})}}}]);
//# sourceMappingURL=716.96544593.chunk.js.map